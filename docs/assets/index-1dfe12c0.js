(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function z(){}function Me(e){return e()}function Ee(){return Object.create(null)}function R(e){e.forEach(Me)}function je(e){return typeof e=="function"}function ie(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Te(e){return Object.keys(e).length===0}function qe(e,...t){if(e==null)return z;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Oe(e){let t;return qe(e,n=>t=n)(),t}function Je(e,t,n){e.$$.on_destroy.push(qe(t,n))}function le(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function Re(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function _e(e){return document.createTextNode(e)}function v(){return _e(" ")}function Ve(){return _e("")}function I(e,t,n,u){return e.addEventListener(t,n,u),()=>e.removeEventListener(t,n,u)}function P(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function oe(e){return e===""?null:+e}function De(e){return Array.from(e.childNodes)}function Be(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Q(e,t){e.value=t??""}function ge(e,t){for(let n=0;n<e.options.length;n+=1){const u=e.options[n];if(u.__value===t){u.selected=!0;return}}e.selectedIndex=-1}function Pe(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let Se;function re(e){Se=e}function ze(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(u=>u.call(this,t))}const ue=[],T=[],me=[],he=[],Ke=Promise.resolve();let ke=!1;function Ge(){ke||(ke=!0,Ke.then(Fe))}function ce(e){me.push(e)}function W(e){he.push(e)}const ye=new Set;let te=0;function Fe(){if(te!==0)return;const e=Se;do{try{for(;te<ue.length;){const t=ue[te];te++,re(t),He(t.$$)}}catch(t){throw ue.length=0,te=0,t}for(re(null),ue.length=0,te=0;T.length;)T.pop()();for(let t=0;t<me.length;t+=1){const n=me[t];ye.has(n)||(ye.add(n),n())}me.length=0}while(ue.length);for(;he.length;)he.pop()();ke=!1,ye.clear(),re(e)}function He(e){if(e.fragment!==null){e.update(),R(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ce)}}const be=new Set;let x;function Qe(){x={r:0,c:[],p:x}}function We(){x.r||R(x.c),x=x.p}function F(e,t){e&&e.i&&(be.delete(e),e.i(t))}function J(e,t,n,u){if(e&&e.o){if(be.has(e))return;be.add(e),x.c.push(()=>{be.delete(e),u&&(n&&e.d(1),u())}),e.o(t)}else u&&u()}function X(e,t,n){const u=e.$$.props[t];u!==void 0&&(e.$$.bound[u]=n,n(e.$$.ctx[u]))}function Y(e){e&&e.c()}function K(e,t,n,u){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),u||ce(()=>{const l=e.$$.on_mount.map(Me).filter(je);e.$$.on_destroy?e.$$.on_destroy.push(...l):R(l),e.$$.on_mount=[]}),o.forEach(ce)}function G(e,t){const n=e.$$;n.fragment!==null&&(R(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(e,t){e.$$.dirty[0]===-1&&(ue.push(e),Ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pe(e,t,n,u,i,o,l,r=[-1]){const s=Se;re(e);const _=e.$$={fragment:null,ctx:[],props:o,update:z,not_equal:i,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Ee(),dirty:r,skip_bound:!1,root:t.target||s.$$.root};l&&l(_.root);let d=!1;if(_.ctx=n?n(e,t.props||{},(b,k,...S)=>{const $=S.length?S[0]:k;return _.ctx&&i(_.ctx[b],_.ctx[b]=$)&&(!_.skip_bound&&_.bound[b]&&_.bound[b]($),d&&Xe(e,b)),k}):[],_.update(),d=!0,R(_.before_update),_.fragment=u?u(_.ctx):!1,t.target){if(t.hydrate){const b=De(t.target);_.fragment&&_.fragment.l(b),b.forEach(c)}else _.fragment&&_.fragment.c();t.intro&&F(e.$$.fragment),K(e,t.target,t.anchor,t.customElement),Fe()}re(s)}class ae{$destroy(){G(this,1),this.$destroy=z}$on(t,n){if(!je(n))return z;const u=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return u.push(n),()=>{const i=u.indexOf(n);i!==-1&&u.splice(i,1)}}$set(t){this.$$set&&!Te(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ne=[];function Ye(e,t=z){let n;const u=new Set;function i(r){if(ie(e,r)&&(e=r,n)){const s=!ne.length;for(const _ of u)_[1](),ne.push(_,e);if(s){for(let _=0;_<ne.length;_+=2)ne[_][0](ne[_+1]);ne.length=0}}}function o(r){i(r(e))}function l(r,s=z){const _=[r,s];return u.add(_),u.size===1&&(n=t(i)||z),r(e),()=>{u.delete(_),u.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}class E{constructor(t,n,u){this.label=t,this.value=n,this.category=u}}const fe=Ye({mg:new E("мг",.001,"weight"),g:new E("г",1,"weight"),kg:new E("кг",1e3,"weight"),q:new E("центнеры",1e5,"weight"),t:new E("тонны",1e6,"weight"),oz:new E("унции",28.35,"weight"),lb:new E("фунты",453.59,"weight"),ct:new E("караты",.2,"weight"),ml:new E("мл",1,"volume"),l:new E("л",1e3,"volume"),pt:new E("пинты",568.26,"volume"),tspn:new E("чайные ложки",5,"volume"),tbsp:new E("столовые ложки",15,"volume"),cup:new E("стаканы",200,"volume")}),$e=class{static addUnit(t,n){fe.update(u=>(u[t]=new E(...n),u))}static loadFromStorage(){for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t),u=JSON.parse(localStorage.getItem(n));this.addUnit(n,u)}}static convert(t,n,u){const i=Oe(fe),o=i[t],l=i[u];return o.category!=l.category?null:Number(n)*o.value/l.value}static addCustomUnit(t,n,u){const i=[t,Number(n),u],o=crypto.randomUUID();return localStorage.setItem(o,JSON.stringify(i)),this.addUnit(o,i),o}static removeCustomUnit(t){localStorage.removeItem(t),fe.update(n=>(delete n[t],n))}static unitsInCategory(t){const n=Oe(fe);return Object.keys(n).filter(u=>n[u].category==t)}};let ee=$e;(()=>{$e.loadFromStorage()})();function Ze(e){let t,n,u,i,o,l,r,s,_;return{c(){t=g("label"),t.textContent="Категория:",n=v(),u=g("br"),i=v(),o=g("select"),l=g("option"),l.textContent="Масса",r=g("option"),r.textContent="Объём",P(t,"for","category"),l.__value="weight",l.value=l.__value,r.__value="volume",r.value=r.__value,P(o,"id","category"),e[0]===void 0&&ce(()=>e[2].call(o))},m(d,b){p(d,t,b),p(d,n,b),p(d,u,b),p(d,i,b),p(d,o,b),le(o,l),le(o,r),ge(o,e[0]),s||(_=[I(o,"change",e[2]),I(o,"change",e[1])],s=!0)},p(d,[b]){b&1&&ge(o,d[0])},i:z,o:z,d(d){d&&c(t),d&&c(n),d&&c(u),d&&c(i),d&&c(o),s=!1,R(_)}}}function xe(e,t,n){let{value:u="weight"}=t;function i(l){ze.call(this,e,l)}function o(){u=Pe(this),n(0,u)}return e.$$set=l=>{"value"in l&&n(0,u=l.value)},[u,i,o]}class Ne extends ae{constructor(t){super(),pe(this,t,xe,Ze,ie,{value:0})}}function Ae(e,t,n){const u=e.slice();return u[8]=t[n][0],u[9]=t[n][1],u}function Le(e){let t,n=e[9].label+"",u,i,o;return{c(){t=g("option"),u=_e(n),i=v(),t.__value=o=e[8],t.value=t.__value},m(l,r){p(l,t,r),le(t,u),le(t,i)},p(l,r){r&4&&n!==(n=l[9].label+"")&&Be(u,n),r&4&&o!==(o=l[8])&&(t.__value=o,t.value=t.__value)},d(l){l&&c(t)}}}function et(e){let t,n,u,i=e[2],o=[];for(let l=0;l<i.length;l+=1)o[l]=Le(Ae(e,i,l));return{c(){t=g("select");for(let l=0;l<o.length;l+=1)o[l].c();P(t,"id",e[1]),e[0]===void 0&&ce(()=>e[7].call(t))},m(l,r){p(l,t,r);for(let s=0;s<o.length;s+=1)o[s].m(t,null);ge(t,e[0]),n||(u=[I(t,"change",e[7]),I(t,"change",e[6])],n=!0)},p(l,[r]){if(r&4){i=l[2];let s;for(s=0;s<i.length;s+=1){const _=Ae(l,i,s);o[s]?o[s].p(_,r):(o[s]=Le(_),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=i.length}r&2&&P(t,"id",l[1]),r&5&&ge(t,l[0])},i:z,o:z,d(l){l&&c(t),Re(o,l),n=!1,R(u)}}}function tt(e,t,n){let u;Je(e,fe,b=>n(5,u=b));let{id:i,value:o}=t,{category:l="weight"}=t,{custom:r=!1}=t,s;function _(b){ze.call(this,e,b)}function d(){o=Pe(this),n(0,o),n(3,l),n(4,r),n(5,u),n(2,s),n(3,l),n(4,r),n(5,u),n(0,o)}return e.$$set=b=>{"id"in b&&n(1,i=b.id),"value"in b&&n(0,o=b.value),"category"in b&&n(3,l=b.category),"custom"in b&&n(4,r=b.custom)},e.$$.update=()=>{if(e.$$.dirty&57){let b=ee.unitsInCategory(l);r&&(b=b.filter(k=>localStorage.getItem(k))),n(2,s=b.map(k=>[k,u[k]])),n(0,o=b.includes(o)?o:b[0])}},[o,i,s,l,r,u,_,d]}class Ce extends ae{constructor(t){super(),pe(this,t,tt,et,ie,{id:1,value:0,category:3,custom:4})}}function nt(e){let t,n,u,i,o,l,r,s,_,d,b,k,S,$,N,O,C=e[3]=="weight"?" г":" мл",q,A,L,B,U,V,M,D,j,m,h,H;function Z(a){e[6](a)}let se={};return e[3]!==void 0&&(se.value=e[3]),u=new Ne({props:se}),T.push(()=>X(u,"value",Z)),u.$on("change",e[4]),{c(){t=g("h1"),t.textContent="Добавить свою единицу измерения",n=v(),Y(u.$$.fragment),o=v(),l=g("br"),r=v(),s=g("span"),s.textContent="1",_=v(),d=g("input"),b=v(),k=g("span"),k.textContent="=",S=v(),$=g("input"),N=v(),O=g("span"),q=_e(C),A=v(),L=g("br"),B=v(),U=g("br"),V=v(),M=g("button"),M.textContent="Отмена",D=v(),j=g("button"),j.textContent="Добавить",P(d,"type","text"),P(d,"placeholder","единица измерения"),P($,"type","number")},m(a,w){p(a,t,w),p(a,n,w),K(u,a,w),p(a,o,w),p(a,l,w),p(a,r,w),p(a,s,w),p(a,_,w),p(a,d,w),Q(d,e[1]),p(a,b,w),p(a,k,w),p(a,S,w),p(a,$,w),Q($,e[2]),p(a,N,w),p(a,O,w),le(O,q),p(a,A,w),p(a,L,w),p(a,B,w),p(a,U,w),p(a,V,w),p(a,M,w),p(a,D,w),p(a,j,w),m=!0,h||(H=[I(d,"input",e[7]),I($,"input",e[8]),I(M,"click",e[9]),I(j,"click",e[5])],h=!0)},p(a,[w]){const de={};!i&&w&8&&(i=!0,de.value=a[3],W(()=>i=!1)),u.$set(de),w&2&&d.value!==a[1]&&Q(d,a[1]),w&4&&oe($.value)!==a[2]&&Q($,a[2]),(!m||w&8)&&C!==(C=a[3]=="weight"?" г":" мл")&&Be(q,C)},i(a){m||(F(u.$$.fragment,a),m=!0)},o(a){J(u.$$.fragment,a),m=!1},d(a){a&&c(t),a&&c(n),G(u,a),a&&c(o),a&&c(l),a&&c(r),a&&c(s),a&&c(_),a&&c(d),a&&c(b),a&&c(k),a&&c(S),a&&c($),a&&c(N),a&&c(O),a&&c(A),a&&c(L),a&&c(B),a&&c(U),a&&c(V),a&&c(M),a&&c(D),a&&c(j),h=!1,R(H)}}}function ut(e,t,n){let{show:u}=t,i="",o=1,l="weight";function r(){n(1,i=""),n(2,o=1)}function s(){if(i==""||isNaN(o)||o==0){alert("Заполните все поля!");return}ee.addCustomUnit(i,o,l),n(0,u=!1)}function _(S){l=S,n(3,l)}function d(){i=this.value,n(1,i)}function b(){o=oe(this.value),n(2,o)}const k=()=>n(0,u=!1);return e.$$set=S=>{"show"in S&&n(0,u=S.show)},[u,i,o,l,r,s,_,d,b,k]}class lt extends ae{constructor(t){super(),pe(this,t,ut,nt,ie,{show:0})}}function ot(e){let t,n,u,i,o,l,r,s,_,d,b,k,S,$,N,O,C,q,A,L,B,U;function V(m){e[4](m)}let M={};e[1]!==void 0&&(M.value=e[1]),u=new Ne({props:M}),T.push(()=>X(u,"value",V));function D(m){e[5](m)}let j={category:e[1],custom:!0};return e[2]!==void 0&&(j.value=e[2]),s=new Ce({props:j}),T.push(()=>X(s,"value",D)),{c(){t=g("h1"),t.textContent="Удалить свою единицу измерения",n=v(),Y(u.$$.fragment),o=v(),l=g("br"),r=v(),Y(s.$$.fragment),d=v(),b=g("br"),k=v(),S=g("br"),$=v(),N=g("button"),N.textContent="Отмена",O=v(),C=g("button"),q=_e("Удалить"),C.disabled=A=!Boolean(e[2])},m(m,h){p(m,t,h),p(m,n,h),K(u,m,h),p(m,o,h),p(m,l,h),p(m,r,h),K(s,m,h),p(m,d,h),p(m,b,h),p(m,k,h),p(m,S,h),p(m,$,h),p(m,N,h),p(m,O,h),p(m,C,h),le(C,q),L=!0,B||(U=[I(N,"click",e[6]),I(C,"click",e[3])],B=!0)},p(m,[h]){const H={};!i&&h&2&&(i=!0,H.value=m[1],W(()=>i=!1)),u.$set(H);const Z={};h&2&&(Z.category=m[1]),!_&&h&4&&(_=!0,Z.value=m[2],W(()=>_=!1)),s.$set(Z),(!L||h&4&&A!==(A=!Boolean(m[2])))&&(C.disabled=A)},i(m){L||(F(u.$$.fragment,m),F(s.$$.fragment,m),L=!0)},o(m){J(u.$$.fragment,m),J(s.$$.fragment,m),L=!1},d(m){m&&c(t),m&&c(n),G(u,m),m&&c(o),m&&c(l),m&&c(r),G(s,m),m&&c(d),m&&c(b),m&&c(k),m&&c(S),m&&c($),m&&c(N),m&&c(O),m&&c(C),B=!1,R(U)}}}function it(e,t,n){let{show:u}=t,i="weight",o;function l(){ee.removeCustomUnit(o),n(0,u=!1)}function r(d){i=d,n(1,i)}function s(d){o=d,n(2,o)}const _=()=>n(0,u=!1);return e.$$set=d=>{"show"in d&&n(0,u=d.show)},[u,i,o,l,r,s,_]}class st extends ae{constructor(t){super(),pe(this,t,it,ot,ie,{show:0})}}function ft(e){let t,n,u,i,o,l,r,s,_,d,b,k,S,$,N,O,C,q,A,L,B,U,V,M,D,j,m,h,H;function Z(f){e[11](f)}let se={};e[2]!==void 0&&(se.value=e[2]),u=new Ne({props:se}),T.push(()=>X(u,"value",Z)),u.$on("change",e[8]);function a(f){e[13](f)}let w={id:"unit1",category:e[2]};e[0]!==void 0&&(w.value=e[0]),d=new Ce({props:w}),T.push(()=>X(d,"value",a)),d.$on("change",e[7]);function de(f){e[15](f)}let Ue={id:"unit2",category:e[2]};return e[1]!==void 0&&(Ue.value=e[1]),C=new Ce({props:Ue}),T.push(()=>X(C,"value",de)),C.$on("change",e[7]),{c(){t=g("h1"),t.textContent="Конвертер величин",n=v(),Y(u.$$.fragment),o=v(),l=g("br"),r=v(),s=g("input"),_=v(),Y(d.$$.fragment),k=v(),S=g("span"),S.textContent="=",$=v(),N=g("input"),O=v(),Y(C.$$.fragment),A=v(),L=g("br"),B=v(),U=g("br"),V=v(),M=g("button"),M.textContent="Добавить свою единицу измерения",D=v(),j=g("button"),j.textContent="Удалить свою единицу измерения",P(s,"type","number"),P(s,"id","value1"),P(N,"type","number"),P(N,"id","value2")},m(f,y){p(f,t,y),p(f,n,y),K(u,f,y),p(f,o,y),p(f,l,y),p(f,r,y),p(f,s,y),Q(s,e[3]),p(f,_,y),K(d,f,y),p(f,k,y),p(f,S,y),p(f,$,y),p(f,N,y),Q(N,e[4]),p(f,O,y),K(C,f,y),p(f,A,y),p(f,L,y),p(f,B,y),p(f,U,y),p(f,V,y),p(f,M,y),p(f,D,y),p(f,j,y),m=!0,h||(H=[I(s,"input",e[12]),I(s,"input",e[7]),I(N,"input",e[14]),I(N,"input",e[7]),I(M,"click",e[16]),I(j,"click",e[17])],h=!0)},p(f,y){const Ie={};!i&&y&4&&(i=!0,Ie.value=f[2],W(()=>i=!1)),u.$set(Ie),y&8&&oe(s.value)!==f[3]&&Q(s,f[3]);const ve={};y&4&&(ve.category=f[2]),!b&&y&1&&(b=!0,ve.value=f[0],W(()=>b=!1)),d.$set(ve),y&16&&oe(N.value)!==f[4]&&Q(N,f[4]);const we={};y&4&&(we.category=f[2]),!q&&y&2&&(q=!0,we.value=f[1],W(()=>q=!1)),C.$set(we)},i(f){m||(F(u.$$.fragment,f),F(d.$$.fragment,f),F(C.$$.fragment,f),m=!0)},o(f){J(u.$$.fragment,f),J(d.$$.fragment,f),J(C.$$.fragment,f),m=!1},d(f){f&&c(t),f&&c(n),G(u,f),f&&c(o),f&&c(l),f&&c(r),f&&c(s),f&&c(_),G(d,f),f&&c(k),f&&c(S),f&&c($),f&&c(N),f&&c(O),G(C,f),f&&c(A),f&&c(L),f&&c(B),f&&c(U),f&&c(V),f&&c(M),f&&c(D),f&&c(j),h=!1,R(H)}}}function rt(e){let t,n,u;function i(l){e[10](l)}let o={};return e[6]!==void 0&&(o.show=e[6]),t=new st({props:o}),T.push(()=>X(t,"show",i)),{c(){Y(t.$$.fragment)},m(l,r){K(t,l,r),u=!0},p(l,r){const s={};!n&&r&64&&(n=!0,s.show=l[6],W(()=>n=!1)),t.$set(s)},i(l){u||(F(t.$$.fragment,l),u=!0)},o(l){J(t.$$.fragment,l),u=!1},d(l){G(t,l)}}}function ct(e){let t,n,u;function i(l){e[9](l)}let o={};return e[5]!==void 0&&(o.show=e[5]),t=new lt({props:o}),T.push(()=>X(t,"show",i)),{c(){Y(t.$$.fragment)},m(l,r){K(t,l,r),u=!0},p(l,r){const s={};!n&&r&32&&(n=!0,s.show=l[5],W(()=>n=!1)),t.$set(s)},i(l){u||(F(t.$$.fragment,l),u=!0)},o(l){J(t.$$.fragment,l),u=!1},d(l){G(t,l)}}}function _t(e){let t,n,u,i;const o=[ct,rt,ft],l=[];function r(s,_){return s[5]?0:s[6]?1:2}return t=r(e),n=l[t]=o[t](e),{c(){n.c(),u=Ve()},m(s,_){l[t].m(s,_),p(s,u,_),i=!0},p(s,[_]){let d=t;t=r(s),t===d?l[t].p(s,_):(Qe(),J(l[d],1,1,()=>{l[d]=null}),We(),n=l[t],n?n.p(s,_):(n=l[t]=o[t](s),n.c()),F(n,1),n.m(u.parentNode,u))},i(s){i||(F(n),i=!0)},o(s){J(n),i=!1},d(s){l[t].d(s),s&&c(u)}}}function pt(e,t,n){let u,i,o,l,r=1,s=1,_=!1,d=!1;function b(){this.tagName=="INPUT"&&(o=this),o===void 0&&this.id=="unit1"||(o==null?void 0:o.id)=="value1"?n(4,s=ee.convert(u,r,i)):n(3,r=ee.convert(i,s,u))}function k(){n(3,r=1),n(4,s=1)}function S(U){_=U,n(5,_)}function $(U){d=U,n(6,d)}function N(U){l=U,n(2,l)}function O(){r=oe(this.value),n(3,r)}function C(U){u=U,n(0,u)}function q(){s=oe(this.value),n(4,s)}function A(U){i=U,n(1,i)}return[u,i,l,r,s,_,d,b,k,S,$,N,O,C,q,A,()=>n(5,_=!0),()=>n(6,d=!0)]}class at extends ae{constructor(t){super(),pe(this,t,pt,_t,ie,{})}}new at({target:document.getElementById("app")});
